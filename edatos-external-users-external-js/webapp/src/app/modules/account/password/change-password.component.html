<div class="page" *ngIf="account">
    <div class="page-header page-header-top">
        <h2 class="page-header-title">
            <span class="page-header-title-icon">
                <i class="fa fa-fw fa-user" aria-hidden="true"></i>
            </span>
            <span class="page-header-title-text" translate="account.title"></span>
        </h2>
        <div class="page-header-btns">
            <button type="submit" form="settings-form" [disabled]="settingsForm && settingsForm.form.invalid || isSaving" class="btn btn-primary">
                <span class="fa fa-floppy-o"></span>
                <span translate="entity.action.save"></span>
            </button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="clear()">
                <span class="fa fa-ban"></span>
                <span translate="entity.action.cancel"></span>
            </button>
        </div>
    </div>
    <div class="page-body">
        <form
            class="page-form"
            name="settingsForm"
            role="form"
            id="settings-form"
            (ngSubmit)="save()"
            #settingsForm="ngForm"
            novalidate
            autocomplete="off"
            [passwordMatch]="['newPassword', 'confirmNewPassword']"
            [passwordNotMatch]="['currentPassword', 'newPassword']"
        >
            <fieldset class="page-section" arteAutofocus>
                <div class="row">
                    <div class="form-group form-group-inline col-md-6">
                        <div class="form-row">
                            <label class="form-label col-md-4" translate="userManagement.password.old" for="currentPassword"></label>
                            <div class="col-md-8 form-input-container errors-on-hover">
                                <arte-input type="password" id="currentPassword" name="currentPassword" [(ngModel)]="currentPassword" [required]="true" [minlength]="8">
                                </arte-input>
                                <div class="form-errors-messages" *hasErrors="let messages">
                                    <ul>
                                        <li *ngFor="let m of messages">{{m}}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6"></div>
                    <div class="form-group form-group-inline col-md-6" [formControlStatus]="settingsForm.controls.newPassword">
                        <div class="form-row">
                            <label class="form-label col-md-4" translate="userManagement.password.new" for="newPassword"></label>
                            <div class="col-md-8 form-input-container errors-on-hover">
                                <arte-input type="password" id="newPassword" name="newPassword" [(ngModel)]="newPassword" [required]="true" [minlength]="8"> </arte-input>
                                <div class="form-errors-messages" *hasErrors="let messages">
                                    <ul>
                                        <li *ngFor="let m of messages">{{m}}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-inline col-md-6" [formControlStatus]="settingsForm.controls.confirmNewPassword">
                        <div class="form-row">
                            <label class="form-label col-md-4" translate="userManagement.password.confirmNew" for="confirmNewPassword"></label>
                            <div class="col-md-8 form-input-container errors-on-hover">
                                <arte-input type="password" id="confirmNewPassword" name="confirmNewPassword" [(ngModel)]="confirmNewPassword" [required]="true"> </arte-input>
                                <div class="form-errors-messages" *hasErrors="let messages">
                                    <ul>
                                        <li *ngFor="let m of messages">{{m}}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
</div>
