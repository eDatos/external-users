<div class="page">
    <div class="page-header">
        <div class="page-header-top">
            <h2 class="page-header-title">
                <span class="page-header-title-text" [ngSwitch]="true">
                    <ng-container *ngSwitchCase="!inEditMode">{{ ('filter.name' | translate) + ' ' + filter.id }}</ng-container>
                    <ng-container *ngSwitchCase="inEditMode && !filter.id">{{ 'filter.form.new' | translate }}</ng-container>
                    <ng-container *ngSwitchDefault>{{ ('filter.form.edit' | translate) + ' ' + filter.id  }}</ng-container>
                </span>
            </h2>

            <button class="btn btn-dark mr-2" routerLink=".." [disabled]="isSaving">
                <span class="fa fa-arrow-left"></span>
                <span translate="filter.form.goBack"></span>
            </button>

            <button *ngIf="inEditMode && filter.id" class="btn btn-warning mr-2" (click)="toggleEditMode()" [disabled]="isSaving">
                <span class="fa fa-times"></span>
                <span translate="filter.form.cancel"></span>
            </button>

            <button *ngIf="!inEditMode" class="btn btn-primary mr-2" (click)="toggleEditMode()">
                <span class="fa fa-pencil-square-o"></span>
                <span translate="filter.form.edit"></span>
            </button>

            <button *ngIf="inEditMode" class="btn btn-primary d-flex align-items-center" type="button" (click)="submit()" [disabled]="isSaving">
                <span *ngIf="isSaving" class="spinner-grow spinner-grow-sm fa" role="status" aria-hidden="true"></span>
                <span *ngIf="!isSaving" class="fa fa-save"></span>
                <span translate="filter.form.save"></span>
            </button>
        </div>
    </div>
    <div class="page-body">
        <form class="page-form" id="filter-form" name="editForm" role="form" novalidate (ngSubmit)="submit()" #editForm="ngForm" autocomplete="off">
            <fieldset class="page-section" arteAutofocus>
                <legend class="pt-3">{{ "filter.form.legend" | translate }}</legend>
                <div class="row">
                    <div class="form-group form-group-inline col-md-6 required" [formControlStatus]="editForm.controls.name">
                        <div class="form-row">
                            <label class="form-label col-md-4" for="name">{{ "filter.entity.name" | translate }}</label>
                            <div class="col-md-8 form-input-container errors-on-hover">
                                <arte-input id="name" name="name" [(ngModel)]="filter.name" [maxlength]="255" [required]="true" [disabled]="!inEditMode"></arte-input>
                                <div class="form-errors-messages" *hasErrors="let messages">
                                    <span *ngFor="let m of messages">{{m}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-inline col-md-6 required" [formControlStatus]="editForm.controls.email">
                        <div class="form-row">
                            <label class="form-label col-md-4" for="email">{{ "filter.entity.email" | translate }}</label>
                            <div class="col-md-8 form-input-container errors-on-hover">
                                <arte-input id="email" name="email" [(ngModel)]="filter.email" [maxlength]="255" [required]="true" [disabled]="!inEditMode"></arte-input>
                                <div class="form-errors-messages" *hasErrors="let messages">
                                    <span *ngFor="let m of messages">{{m}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group form-group-inline col-md-6 required" [formControlStatus]="editForm.controls.permalink">
                        <div class="form-row">
                            <label class="form-label col-md-4" for="permalink">{{ "filter.entity.permalink" | translate }}</label>
                            <div class="col-md-8 form-input-container errors-on-hover">
                                <arte-input id="permalink" name="permalink" [(ngModel)]="filter.permalink" [maxlength]="255" [required]="true" [disabled]="!inEditMode"></arte-input>
                                <div class="form-errors-messages" *hasErrors="let messages">
                                    <span *ngFor="let m of messages">{{m}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group-inline col-md-6 required" [formControlStatus]="editForm.controls.notes">
                        <div class="form-row">
                            <label class="form-label col-md-4" for="notes">{{ "filter.entity.notes" | translate }}</label>
                            <div class="col-md-8 form-input-container errors-on-hover">
                                <arte-input id="notes" name="notes" [(ngModel)]="filter.notes" [maxlength]="255" [required]="true" [disabled]="!inEditMode"></arte-input>
                                <div class="form-errors-messages" *hasErrors="let messages">
                                    <span *ngFor="let m of messages">{{m}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
</div>
